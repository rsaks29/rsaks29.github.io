<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Contact Me</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <!-- EmailJS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
      // Initialize EmailJS
      emailjs.init("7agWfKJIVm8Fha7A7");
    </script>
    <style>
      /* Simple dropdown styles */
      .dropdown-list { display: none; list-style: none; padding: 0; margin: 0; }
      .dropdown-list.active { display: block; }
      .dropdown-btn { cursor: pointer; }
    </style>
  </head>
  <body>
    <h1><strong>HOW TO CONTACT ME</strong></h1>
    <hr>
    <nav>
      <div class="Menu">
        <button class="dropdown-btn">Select Option â–¼</button>
        <ul class="dropdown-list">
          <li><a href="index.html">Main</a></li>
          <li><a href="AboutMe.html">About Me</a></li>
          <li><a href="Projects.html">Projects</a></li>
          <li><a href="HowToContactMe.html">Contact Me</a></li>
        </ul>
      </div>
    </nav>

    <h2>Send me an email</h2>
    <form id="contact-form">
      <label for="email">Your Email:</label>
      <input type="email" id="email" name="email" required><br>

      <label for="subject">Subject:</label>
      <input type="text" id="subject" name="subject" required><br>

      <label for="message">Message:</label><br>
      <textarea id="message" name="message" rows="5" required></textarea><br>

      <button type="submit">Send Email</button>
    </form>

    <!-- Scripts at end for proper loading -->
    <script>
      // Dropdown toggle
      document.addEventListener('DOMContentLoaded', function() {
        const btn = document.querySelector('.dropdown-btn');
        const list = document.querySelector('.dropdown-list');
        btn.addEventListener('click', () => {
          list.classList.toggle('active');
        });
      });

      // EmailJS send logic
      document.getElementById('contact-form').addEventListener('submit', function(e) {
        e.preventDefault();

        const params = {
          from_email: document.getElementById('email').value,
          subject: document.getElementById('subject').value,
          message: document.getElementById('message').value
        };

        emailjs.send('service_ef8oh5y', 'template_yfzk6cv', params)
          .then(response => {
            alert('Email sent successfully!');
            console.log('SUCCESS:', response);
            this.reset();
          })
          .catch(error => {
            console.error('EmailJS Error:', error);
            alert('Failed to send email. Check console for details.');
          });
      });
    </script>
  </body>
</html>